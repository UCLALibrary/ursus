<%# SINAI ONLY %>

<% doc_presenter = index_presenter(document) %>
<% sinai_index_language = Ursus::SinaiIndexLanguagePresenter.new(document: doc_presenter.fields_to_render).sinai_index_language_terms %>

<% if sinai_index_language.length > 0 %>
  <% sinai_index_language.each do |field_name, field| -%>
    <div class='metadata-value-index--sinai'>
      <% all_vals = doc_presenter.field_value field %>
      <% all_vals_array = all_vals.split("&nbsp;|&nbsp;") %>
      <% all_vals_array_truncated = all_vals_array[0..2] %>
      <% count = 1 %>
      <% all_vals_array_truncated.each do |each_val| -%>
        <%= each_val.html_safe %>
        <% if count < all_vals_array_truncated.length %>
          <%= '|'.html_safe %>
        <% end %>
        <% count += 1 %>
      <% end %>
      <% if all_vals_array.length > all_vals_array_truncated.length %>
        <%= '| ...'.html_safe %>
      <% end %>
    </div>
  <% end %>
<% end %>


<%= render_truncated_list(doc_presenter, sinai_index_language) %>
  
