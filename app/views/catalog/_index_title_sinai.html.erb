<%# SINAI ONLY %>
<%# (this needs the show_presenter or it does not work) %>

<% doc_presenter = show_presenter(document) %>
<% sinai_index_title = Ursus::SinaiIndexTitleMetadataPresenter.new(document: doc_presenter.fields_to_render).sinai_index_title_terms %>

<% if sinai_index_title.length > 0 %>
  <% concatonated_title_key = "TITLE" %>
  <% concatonated_titles = [] %>

<% if document['descriptive_title_tesim'] && !document['descriptive_title_tesim'].empty? %>
  <% concatonated_titles << document['descriptive_title_tesim'] %>
<% end %>

<% if document['uniform_title_tesim'] && !document['uniform_title_tesim'].empty? %>
  <% concatonated_titles  << document['uniform_title_tesim'] %>
<% end %>

<% combined_titles = concatonated_titles.flatten! %>

  <dt class="metadata-block__label-key">
    <!-- KEY -->
    <%= concatonated_title_key %>
  </dt>
  <!-- VALUE -->
  <dd class="metadata-block__label-value">
    <% combined_titles.each_with_index do |title, index| %>
      <%= title.html_safe %>
      <% if index +  1 < combined_titles.length %>
        <%= ' | ' %>
      <% end %>
    <% end %>
  </dd>
<% end %>
