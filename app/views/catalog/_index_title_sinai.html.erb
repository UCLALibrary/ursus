<%# SINAI ONLY %>
<%# Combine fields for the Title value %>
<%# TITLE: descriptive_title_one | descriptive_title_two | uniform_title_one | uniform_title_two %>

<% doc_presenter = index_presenter(document) %>
<% sinai_index_title = Ursus::SinaiIndexTitleMetadataPresenter.new(document: doc_presenter.fields_to_render).sinai_index_title_terms %>

<% if sinai_index_title.length > 0 %>
  <% count = 1 %>
  <% sinai_index_title.each do |field_name, field| -%>
    <% if count < sinai_index_title.length %>
      <%= doc_presenter.field_value field %>
      <% count += 1 %>
    <% else %>
      <% all_vals = doc_presenter.field_value field %>
      <% all_vals_array = all_vals.split("|") %>
      <% all_vals_array_truncated = all_vals_array[0..1] %>
      <% count2 = 1 %>
      <% all_vals_array_truncated.each do |each_val| -%>
        <%= each_val.html_safe %>
        <% if count2 < all_vals_array_truncated.length %>
          <%= '|'.html_safe %>
        <% end %>
        <% count2 += 1 %>
      <% end %>
      <% if all_vals_array.length > all_vals_array_truncated.length %>
        <%= '| ...'.html_safe %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
