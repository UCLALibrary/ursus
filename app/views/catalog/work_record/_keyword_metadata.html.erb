<% doc_presenter = show_presenter(document) %>
<% if Flipflop.sinai? %>
  <% keyword = Sinai::KeywordsMetadataPresenter.new(document: doc_presenter.fields_to_render).keywords_terms %>
  <% if keyword.length > 0 %>
    <div class="metadata-block--sinai">
      <div class="metadata-block_title--sinai">Keywords</div>
      <div class="metadata-block_value--sinai">
      <% keyword.each do |field_name, field| %>
        <% keyword_terms = doc_presenter.field_value field %>
        <% keyword_terms.each do |keyword_term| %>
          <span><%= keyword_term %></span>
        <% end %>
      <% end %>
      </div>
    </div>
  <% end %>
<% else %>
  <% keyword = Ursus::KeywordMetadataPresenter.new(document: doc_presenter.fields_to_render).keyword_terms %>

  <% if keyword.length > 0 %>
    <div class='metadata-block'>
        <h4 class='metadata-block__title'>Keywords</h4>
        <dl class='metadata-block__group'>
          <% keyword.each do |field_name, field| %>
            <dt class="blacklight-<%= field_name.parameterize %> metadata-block__label-key">
              <!-- KEY -->
              <%= (render_document_show_field_label document, field: field_name).tr(':', '') %>
              <!-- VALUE -->
              <% if Flipflop.sinai? %>
                <dd class="blacklight-<%= field_name.parameterize %> metadata-block__label-value metadata-block__label-value--sinai">
                  <%= doc_presenter.field_value field %>
                </dd>
              <% else %>
                <dd class="blacklight-<%= field_name.parameterize %> metadata-block__label-value metadata-block__label-value--ursus">
                  <%= doc_presenter.field_value field %>
                </dd>
              <% end %>
            </dt>
          <% end %>
        </dl>

        <hr class='divider divider--ursus'>

      </div>
  <% end %>
<% end %>
